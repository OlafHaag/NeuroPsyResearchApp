# screenconsents.kv
#:kivy 1.11.1

<ScreenConsentCircleTask>:  # When adding new consent forms, to share style add class like so: <ConsentOne, ConsentTwo>:
    settings: app.settings
    on_leave: consent_scroll.scroll_y = 1

    BoxLayout:
        orientation: 'vertical'

        ScrollView:
            id: consent_scroll
            do_scroll_x: False
            do_scroll_y: True

            GridLayout:
                cols: 1
                rows: 3
                size_hint_y: None
                height: self.minimum_height
                padding: [0, 10, 0, 100]
                spacing: [0, 20]

                Label:
                    text: root.consent_msg
                    markup: True
                    text_size: root.width, None
                    font_size: sp(24)
                    size: self.texture_size
                    size_hint_y: None
                    padding: 10, 10
                    halign: 'justify'
                    valign: 'top'
                Label:
                    text: "[b]" + _("Personal Identifier:") + "[/b]"
                    markup: True
                    padding: 10, 10
                    text_size: root.width, None
                    font_size: sp(24)
                    size: self.texture_size
                    halign: 'center'
                    valign: 'middle'
                Label:
                    text: app.settings.user
                    markup: False
                    text_size: root.width, None
                    font_size: sp(24)
                    size: self.texture_size
                    size_hint_y: None
                    padding: 10, 10
                    halign: 'center'
                    valign: 'bottom'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.2
            RoundedButton:
                text: _("Decline")
                on_release:
                    root.manager.transition.direction = 'up'
                    root.manager.transition.duration = 0.5
                    root.manager.go_home()
            RoundedButton:
                text: _("Agree")
                on_release:
                    root.manager.transition.direction = 'up'
                    root.manager.transition.duration = 0.5
                    root.manager.current = root.manager.task_instructions[app.settings.task]
